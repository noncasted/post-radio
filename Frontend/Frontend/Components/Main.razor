@page "/"
@using Audio

<PageTitle>Post radio</PageTitle>

<ImagesView State="@State"></ImagesView>
<AudioPlayer State="@State"></AudioPlayer>
<SongDataView State="@State"></SongDataView>
<ControlsView State="@State"></ControlsView>
<StartWait State="@State"></StartWait>

@code {
    [Inject] private ISongsCollection SongsCollection { get; set; }

    private SessionState _state;
    
    public SessionState State {
        get
        {
            if (_state == null)
                _state = new SessionState(SongsCollection);
            
            return _state;
        }   
    }
    
    public void Dispose() {
        State.Dispose();
    }
}