(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))b(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const u of m.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&b(u)}).observe(document,{childList:!0,subtree:!0});function w(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function b(d){if(d.ep)return;d.ep=!0;const m=w(d);fetch(d.href,m)}})();var _={},I={},S;function N(){if(S)return I;S=1;var g=I&&I.__awaiter||function(u,h,r,y){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(c){try{e(y.next(c))}catch(t){a(t)}}function n(c){try{e(y.throw(c))}catch(t){a(t)}}function e(c){c.done?o(c.value):s(c.value).then(l,n)}e((y=y.apply(u,h||[])).next())})},p=I&&I.__generator||function(u,h){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},y,s,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(e){return function(c){return n([e,c])}}function n(e){if(y)throw new TypeError("Generator is already executing.");for(;a&&(a=0,e[0]&&(r=0)),r;)try{if(y=1,s&&(o=e[0]&2?s.return:e[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,e[1])).done)return o;switch(s=0,o&&(e=[e[0]&2,o.value]),e[0]){case 0:case 1:o=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++,s=e[1],e=[0];continue;case 7:e=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!o||e[1]>o[0]&&e[1]<o[3])){r.label=e[1];break}if(e[0]===6&&r.label<o[1]){r.label=o[1],o=e;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(e);break}o[2]&&r.ops.pop(),r.trys.pop();continue}e=h.call(u,r)}catch(c){e=[6,c],s=0}finally{y=o=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},w=I,b="https://api.post-radio.io/";function d(u){return g(this,void 0,void 0,function(){var h,r,y;return p(this,function(s){switch(s.label){case 0:return h=b+"image/getNext",[4,fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Index:u.toString()})})];case 1:if(r=s.sent(),!r.ok)throw new Error("Failed to fetch image: ".concat(r.statusText));return[4,r.json()];case 2:return y=s.sent(),[2,y.url]}})})}function m(u){return g(this,void 0,void 0,function(){var h,r,y;return p(this,function(s){switch(s.label){case 0:return h=document.getElementById("image_1"),r=document.getElementById("image_2"),[4,d(u)];case 1:return y=s.sent(),console.log("Fetched image URL: ".concat(y)),u%2===0?(h.src=y,h.style.zIndex="-1",h.style.opacity="1",r.style.zIndex="-2",r.style.opacity="0"):(r.src=y,r.style.zIndex="-11",r.style.opacity="1",h.style.zIndex="-2",h.style.opacity="0"),[2,u+1]}})})}return document.addEventListener("DOMContentLoaded",function(){var u=Math.floor(Math.random()*1001);setInterval(function(){return g(w,void 0,void 0,function(){return p(this,function(h){switch(h.label){case 0:return[4,m(u)];case 1:return u=h.sent(),[2]}})})},1e4),m(u)}),I}var E={},k;function j(){if(k)return E;k=1;var g=E&&E.__awaiter||function(a,l,n,e){function c(t){return t instanceof n?t:new n(function(f){f(t)})}return new(n||(n=Promise))(function(t,f){function x(v){try{i(e.next(v))}catch(O){f(O)}}function L(v){try{i(e.throw(v))}catch(O){f(O)}}function i(v){v.done?t(v.value):c(v.value).then(x,L)}i((e=e.apply(a,l||[])).next())})},p=E&&E.__generator||function(a,l){var n={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,c,t,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=x(0),f.throw=x(1),f.return=x(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function x(i){return function(v){return L([i,v])}}function L(i){if(e)throw new TypeError("Generator is already executing.");for(;f&&(f=0,i[0]&&(n=0)),n;)try{if(e=1,c&&(t=i[0]&2?c.return:i[0]?c.throw||((t=c.return)&&t.call(c),0):c.next)&&!(t=t.call(c,i[1])).done)return t;switch(c=0,t&&(i=[i[0]&2,t.value]),i[0]){case 0:case 1:t=i;break;case 4:return n.label++,{value:i[1],done:!1};case 5:n.label++,c=i[1],i=[0];continue;case 7:i=n.ops.pop(),n.trys.pop();continue;default:if(t=n.trys,!(t=t.length>0&&t[t.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!t||i[1]>t[0]&&i[1]<t[3])){n.label=i[1];break}if(i[0]===6&&n.label<t[1]){n.label=t[1],t=i;break}if(t&&n.label<t[2]){n.label=t[2],n.ops.push(i);break}t[2]&&n.ops.pop(),n.trys.pop();continue}i=l.call(a,n)}catch(v){i=[6,v],c=0}finally{e=t=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},w,b=!1,d=!1,m="https://api.post-radio.io/";document.body.addEventListener("click",s,{once:!0}),document.body.addEventListener("keydown",s,{once:!0}),(w=document.getElementById("next-button"))===null||w===void 0||w.addEventListener("click",o);var u=document.getElementById("audio-player");function h(a){return g(this,void 0,void 0,function(){var l,n;return p(this,function(e){switch(e.label){case 0:return l=m+"audio/getNext",console.log("get next audio: "+l),[4,fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Index:a.toString()})})];case 1:if(n=e.sent(),!n.ok)throw new Error("Failed to fetch audio");return[2,n.json()]}})})}function r(a,l){var n=document.getElementById("author"),e=document.getElementById("name");n.textContent=a,e.textContent=l}function y(a){return new Promise(function(l,n){u.volume=.2,u.src=a,u.load(),u.oncanplaythrough=function(){b||(b=!0,u.play().then(function(){u.muted=!1,b=!1,l(u)}).catch(n))},u.onerror=function(){return n("Error loading audio")}})}function s(){return g(this,void 0,void 0,function(){var a,l,n,e,c,t;return p(this,function(f){switch(f.label){case 0:if(d)return[2];d=!0,a=Math.floor(Math.random()*1001),f.label=1;case 1:f.label=2;case 2:return f.trys.push([2,6,,7]),[4,h(a)];case 3:return l=f.sent(),n=l.metadata,e=n.author,c=n.name,r(e,c),[4,y(l.downloadUrl)];case 4:return f.sent(),[4,new Promise(function(x){u.onended=function(){return x()}})];case 5:return f.sent(),a++,[3,7];case 6:return t=f.sent(),console.error(t),a++,[3,8];case 7:return[3,1];case 8:return[2]}})})}function o(){var a=document.getElementById("audio-player");a.currentTime=a.duration}return E}var M;function A(){return M||(M=1,Object.defineProperty(_,"__esModule",{value:!0}),N(),j()),_}A();
